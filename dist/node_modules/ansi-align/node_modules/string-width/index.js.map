{"version":3,"sources":["../../../../../src/node_modules/ansi-align/node_modules/string-width/index.js"],"names":["stripAnsi","require","isFullwidthCodePoint","module","exports","str","length","width","i","code","codePointAt"],"mappings":"AAAA;;AACA,IAAMA,YAAYC,QAAQ,YAAR,CAAlB;AACA,IAAMC,uBAAuBD,QAAQ,yBAAR,CAA7B;;AAEAE,OAAOC,OAAP,GAAiB,eAAO;AACvB,KAAI,OAAOC,GAAP,KAAe,QAAf,IAA2BA,IAAIC,MAAJ,KAAe,CAA9C,EAAiD;AAChD,SAAO,CAAP;AACA;;AAEDD,OAAML,UAAUK,GAAV,CAAN;;AAEA,KAAIE,QAAQ,CAAZ;;AAEA,MAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAIH,IAAIC,MAAxB,EAAgCE,GAAhC,EAAqC;AACpC,MAAMC,OAAOJ,IAAIK,WAAJ,CAAgBF,CAAhB,CAAb;;AAEA;AACA,MAAIC,QAAQ,IAAR,IAAiBA,QAAQ,IAAR,IAAgBA,QAAQ,IAA7C,EAAoD;AACnD;AACA;;AAED;AACA,MAAIA,QAAQ,KAAR,IAAiBA,QAAQ,KAA7B,EAAoC;AACnC;AACA;;AAED;AACA,MAAIA,OAAO,MAAX,EAAmB;AAClBD;AACA;;AAEDD,WAASL,qBAAqBO,IAArB,IAA6B,CAA7B,GAAiC,CAA1C;AACA;;AAED,QAAOF,KAAP;AACA,CA/BD","file":"index.js","sourcesContent":["'use strict';\nconst stripAnsi = require('strip-ansi');\nconst isFullwidthCodePoint = require('is-fullwidth-code-point');\n\nmodule.exports = str => {\n\tif (typeof str !== 'string' || str.length === 0) {\n\t\treturn 0;\n\t}\n\n\tstr = stripAnsi(str);\n\n\tlet width = 0;\n\n\tfor (let i = 0; i < str.length; i++) {\n\t\tconst code = str.codePointAt(i);\n\n\t\t// Ignore control characters\n\t\tif (code <= 0x1F || (code >= 0x7F && code <= 0x9F)) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Ignore combining characters\n\t\tif (code >= 0x300 && code <= 0x36F) {\n\t\t\tcontinue;\n\t\t}\n\n\t\t// Surrogates\n\t\tif (code > 0xFFFF) {\n\t\t\ti++;\n\t\t}\n\n\t\twidth += isFullwidthCodePoint(code) ? 2 : 1;\n\t}\n\n\treturn width;\n};\n"]}