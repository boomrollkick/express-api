{"version":3,"sources":["../../../../src/node_modules/ajv-keywords/keywords/propertyNames.js"],"names":["module","exports","defFunc","ajv","definition","type","compile","schema","validate","_opts","allErrors","vAllErrors","vBreakOnError","data","prop","errors","addPropertyNameError","concat","length","propName","push","keyword","params","propertyName","message","metaSchema","$ref","v5","addKeyword"],"mappings":"AAAA;;AAEAA,OAAOC,OAAP,GAAiB,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;AACrCD,UAAQE,UAAR,GAAqB;AACnBC,UAAM,QADa;AAEnBC,aAAS,iBAASC,MAAT,EAAiB;AACxB,UAAIC,WAAWL,IAAIG,OAAJ,CAAYC,MAAZ,CAAf;AACA,aAAOJ,IAAIM,KAAJ,CAAUC,SAAV,GAAsBC,UAAtB,GAAmCC,aAA1C;;AAEA,eAASA,aAAT,CAAuBC,IAAvB,EAA6B;AAC3B,aAAK,IAAIC,IAAT,IAAiBD,IAAjB,EAAuB;AACrB,cAAI,CAACL,SAASM,IAAT,CAAL,EAAqB;AACnBF,0BAAcG,MAAd,GAAuBP,SAASO,MAAhC;AACAC,iCAAqBJ,cAAcG,MAAnC,EAA2CD,IAA3C;AACA,mBAAO,KAAP;AACD;AACF;AACD,eAAO,IAAP;AACD;;AAED,eAASH,UAAT,CAAoBE,IAApB,EAA0B;AACxB,YAAIE,SAAS,EAAb;AACA,aAAK,IAAID,IAAT,IAAiBD,IAAjB,EAAuB;AACrB,cAAI,CAACL,SAASM,IAAT,CAAL,EAAqB;AACnBC,qBAASA,OAAOE,MAAP,CAAcT,SAASO,MAAvB,CAAT;AACAC,iCAAqBD,MAArB,EAA6BD,IAA7B;AACD;AACF;AACD,YAAIC,OAAOG,MAAX,EAAmBP,WAAWI,MAAX,GAAoBA,MAApB;AACnB,eAAOA,OAAOG,MAAP,IAAiB,CAAxB;AACD;;AAED,eAASF,oBAAT,CAA8BD,MAA9B,EAAsCI,QAAtC,EAAgD;AAC9CJ,eAAOK,IAAP,CAAY;AACVC,mBAAS,eADC;AAEVC,kBAAQ,EAAEC,cAAcJ,QAAhB,EAFE;AAGVK,mBAAS,yCAAyCL,QAAzC,GAAoD;AAHnD,SAAZ;AAKD;AACF,KApCkB;AAqCnBM,gBAAY;AACVC,YAAMvB,IAAIM,KAAJ,CAAUkB,EAAV,GACE,wFADF,GAEE;AAHE,KArCO;AA0CnBZ,YAAQ;AA1CW,GAArB;;AA6CAZ,MAAIyB,UAAJ,CAAe,eAAf,EAAgC1B,QAAQE,UAAxC;AACA,SAAOD,GAAP;AACD,CAhDD","file":"propertyNames.js","sourcesContent":["'use strict';\n\nmodule.exports = function defFunc(ajv) {\n  defFunc.definition = {\n    type: 'object',\n    compile: function(schema) {\n      var validate = ajv.compile(schema);\n      return ajv._opts.allErrors ? vAllErrors : vBreakOnError;\n\n      function vBreakOnError(data) {\n        for (var prop in data) {\n          if (!validate(prop)) {\n            vBreakOnError.errors = validate.errors;\n            addPropertyNameError(vBreakOnError.errors, prop);\n            return false;\n          }\n        }\n        return true;\n      }\n\n      function vAllErrors(data) {\n        var errors = [];\n        for (var prop in data) {\n          if (!validate(prop)) {\n            errors = errors.concat(validate.errors);\n            addPropertyNameError(errors, prop);\n          }\n        }\n        if (errors.length) vAllErrors.errors = errors;\n        return errors.length == 0;\n      }\n\n      function addPropertyNameError(errors, propName) {\n        errors.push({\n          keyword: 'propertyNames',\n          params: { propertyName: propName },\n          message: 'should have valid property name of \"' + propName + '\"'\n        });\n      }\n    },\n    metaSchema: {\n      $ref: ajv._opts.v5\n            ? 'https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/json-schema-v5.json#'\n            : 'http://json-schema.org/draft-04/schema#'\n    },\n    errors: true\n  };\n\n  ajv.addKeyword('propertyNames', defFunc.definition);\n  return ajv;\n};\n"]}