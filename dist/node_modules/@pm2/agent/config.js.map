{"version":3,"sources":["../../../../src/node_modules/@pm2/agent/config.js"],"names":["useIfDefined","value","fallback","module","exports","transporters","axon","enabled","process","env","AGENT_TRANSPORT_AXON","endpoints","push","AGENT_PUSH_ENDPOINT","pull","AGENT_REVERSE_ENDPOINT","websocket","AGENT_TRANSPORT_WEBSOCKET","AGENT_WEBSOCKET_ENDPOINT"],"mappings":"AAAA;;AAEA;;;;;;;AAMA,IAAMA,eAAe,SAAfA,YAAe,CAACC,KAAD,EAAQC,QAAR,EAAqB;AACxC,MAAI,OAAOD,KAAP,KAAiB,WAArB,EAAkC;AAChC,WAAOC,QAAP;AACD,GAFD,MAEO;AACL,WAAOD,UAAU,MAAjB;AACD;AACF,CAND;;AAQA;;;;;;AAMAE,OAAOC,OAAP,GAAiB;AACfC,gBAAc;AACZC,UAAM;AACJC,eAASP,aAAaQ,QAAQC,GAAR,CAAYC,oBAAzB,EAA+C,KAA/C,CADL;AAEJC,iBAAW;AACTC,cAAMJ,QAAQC,GAAR,CAAYI,mBAAZ,IAAmC,MADhC;AAETC,cAAMN,QAAQC,GAAR,CAAYM,sBAAZ,IAAsC;AAFnC;AAFP,KADM;AAQZC,eAAW;AACTT,eAASP,aAAaQ,QAAQC,GAAR,CAAYQ,yBAAzB,EAAoD,IAApD,CADA;AAETN,iBAAWH,QAAQC,GAAR,CAAYS,wBAAZ,IAAwC;AAF1C;AARC;AADC,CAAjB","file":"config.js","sourcesContent":["'use strict'\n\n/**\n * Convert value to boolean but false if undefined\n * @param {String} value\n * @param {String} fallback default value\n * @return {Boolean}\n */\nconst useIfDefined = (value, fallback) => {\n  if (typeof value === 'undefined') {\n    return fallback\n  } else {\n    return value === 'true'\n  }\n}\n\n/**\n * Configuration for transporters\n * Configuration by transporter :\n * @param {Integer} enabled\n * @param {Object|String} endpoints sended as first arg with connect() method\n */\nmodule.exports = {\n  transporters: {\n    axon: {\n      enabled: useIfDefined(process.env.AGENT_TRANSPORT_AXON, false),\n      endpoints: {\n        push: process.env.AGENT_PUSH_ENDPOINT || 'push',\n        pull: process.env.AGENT_REVERSE_ENDPOINT || 'reverse'\n      }\n    },\n    websocket: {\n      enabled: useIfDefined(process.env.AGENT_TRANSPORT_WEBSOCKET, true),\n      endpoints: process.env.AGENT_WEBSOCKET_ENDPOINT || 'ws'\n    }\n  }\n}\n"]}