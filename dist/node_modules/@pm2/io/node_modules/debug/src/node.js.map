{"version":3,"sources":["../../../../../../../src/node_modules/@pm2/io/node_modules/debug/src/node.js"],"names":["tty","require","util","exports","module","init","log","formatArgs","save","load","useColors","colors","supportsColor","level","err","inspectOpts","Object","keys","process","env","filter","key","test","reduce","obj","prop","substring","toLowerCase","replace","_","k","toUpperCase","val","Number","Boolean","isatty","stderr","fd","formatters","o","v","inspect","split","map","str","trim","join","O","args","name","namespace","c","color","colorCode","prefix","push","humanize","diff","getDate","hideDate","Date","toISOString","write","format","apply","arguments","namespaces","DEBUG","debug","i","length","enable"],"mappings":"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","file":"node.js","sourcesContent":["/**\n * Module dependencies.\n */\n\nvar tty = require('tty');\nvar util = require('util');\n\n/**\n * This is the Node.js implementation of `debug()`.\n *\n * Expose `debug()` as the module.\n */\n\nexports = module.exports = require('./debug');\nexports.init = init;\nexports.log = log;\nexports.formatArgs = formatArgs;\nexports.save = save;\nexports.load = load;\nexports.useColors = useColors;\n\n/**\n * Colors.\n */\n\nexports.colors = [ 6, 2, 3, 4, 5, 1 ];\n\ntry {\n  var supportsColor = require('supports-color');\n  if (supportsColor && supportsColor.level >= 2) {\n    exports.colors = [\n      20, 21, 26, 27, 32, 33, 38, 39, 40, 41, 42, 43, 44, 45, 56, 57, 62, 63, 68,\n      69, 74, 75, 76, 77, 78, 79, 80, 81, 92, 93, 98, 99, 112, 113, 128, 129, 134,\n      135, 148, 149, 160, 161, 162, 163, 164, 165, 166, 167, 168, 169, 170, 171,\n      172, 173, 178, 179, 184, 185, 196, 197, 198, 199, 200, 201, 202, 203, 204,\n      205, 206, 207, 208, 209, 214, 215, 220, 221\n    ];\n  }\n} catch (err) {\n  // swallow - we only care if `supports-color` is available; it doesn't have to be.\n}\n\n/**\n * Build up the default `inspectOpts` object from the environment variables.\n *\n *   $ DEBUG_COLORS=no DEBUG_DEPTH=10 DEBUG_SHOW_HIDDEN=enabled node script.js\n */\n\nexports.inspectOpts = Object.keys(process.env).filter(function (key) {\n  return /^debug_/i.test(key);\n}).reduce(function (obj, key) {\n  // camel-case\n  var prop = key\n    .substring(6)\n    .toLowerCase()\n    .replace(/_([a-z])/g, function (_, k) { return k.toUpperCase() });\n\n  // coerce string value into JS value\n  var val = process.env[key];\n  if (/^(yes|on|true|enabled)$/i.test(val)) val = true;\n  else if (/^(no|off|false|disabled)$/i.test(val)) val = false;\n  else if (val === 'null') val = null;\n  else val = Number(val);\n\n  obj[prop] = val;\n  return obj;\n}, {});\n\n/**\n * Is stdout a TTY? Colored output is enabled when `true`.\n */\n\nfunction useColors() {\n  return 'colors' in exports.inspectOpts\n    ? Boolean(exports.inspectOpts.colors)\n    : tty.isatty(process.stderr.fd);\n}\n\n/**\n * Map %o to `util.inspect()`, all on a single line.\n */\n\nexports.formatters.o = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts)\n    .split('\\n').map(function(str) {\n      return str.trim()\n    }).join(' ');\n};\n\n/**\n * Map %o to `util.inspect()`, allowing multiple lines if needed.\n */\n\nexports.formatters.O = function(v) {\n  this.inspectOpts.colors = this.useColors;\n  return util.inspect(v, this.inspectOpts);\n};\n\n/**\n * Adds ANSI color escape codes if enabled.\n *\n * @api public\n */\n\nfunction formatArgs(args) {\n  var name = this.namespace;\n  var useColors = this.useColors;\n\n  if (useColors) {\n    var c = this.color;\n    var colorCode = '\\u001b[3' + (c < 8 ? c : '8;5;' + c);\n    var prefix = '  ' + colorCode + ';1m' + name + ' ' + '\\u001b[0m';\n\n    args[0] = prefix + args[0].split('\\n').join('\\n' + prefix);\n    args.push(colorCode + 'm+' + exports.humanize(this.diff) + '\\u001b[0m');\n  } else {\n    args[0] = getDate() + name + ' ' + args[0];\n  }\n}\n\nfunction getDate() {\n  if (exports.inspectOpts.hideDate) {\n    return '';\n  } else {\n    return new Date().toISOString() + ' ';\n  }\n}\n\n/**\n * Invokes `util.format()` with the specified arguments and writes to stderr.\n */\n\nfunction log() {\n  return process.stderr.write(util.format.apply(util, arguments) + '\\n');\n}\n\n/**\n * Save `namespaces`.\n *\n * @param {String} namespaces\n * @api private\n */\n\nfunction save(namespaces) {\n  if (null == namespaces) {\n    // If you set a process.env field to null or undefined, it gets cast to the\n    // string 'null' or 'undefined'. Just delete instead.\n    delete process.env.DEBUG;\n  } else {\n    process.env.DEBUG = namespaces;\n  }\n}\n\n/**\n * Load `namespaces`.\n *\n * @return {String} returns the previously persisted debug modes\n * @api private\n */\n\nfunction load() {\n  return process.env.DEBUG;\n}\n\n/**\n * Init logic for `debug` instances.\n *\n * Create a new `inspectOpts` object in case `useColors` is set\n * differently for a particular `debug` instance.\n */\n\nfunction init (debug) {\n  debug.inspectOpts = {};\n\n  var keys = Object.keys(exports.inspectOpts);\n  for (var i = 0; i < keys.length; i++) {\n    debug.inspectOpts[keys[i]] = exports.inspectOpts[keys[i]];\n  }\n}\n\n/**\n * Enable namespaces listed in `process.env.DEBUG` initially.\n */\n\nexports.enable(load());\n"]}