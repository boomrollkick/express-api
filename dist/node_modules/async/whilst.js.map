{"version":3,"sources":["../../../src/node_modules/async/whilst.js"],"names":["Object","defineProperty","exports","value","default","whilst","_noop","require","_noop2","_interopRequireDefault","_slice","_slice2","_onlyOnce","_onlyOnce2","_wrapAsync","_wrapAsync2","obj","__esModule","test","iteratee","callback","_iteratee","next","err","args","arguments","apply","concat","module"],"mappings":"AAAA;;AAEAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,WAAO;AADkC,CAA7C;AAGAD,QAAQE,OAAR,GAAkBC,MAAlB;;AAEA,IAAIC,QAAQC,QAAQ,aAAR,CAAZ;;AAEA,IAAIC,SAASC,uBAAuBH,KAAvB,CAAb;;AAEA,IAAII,SAASH,QAAQ,kBAAR,CAAb;;AAEA,IAAII,UAAUF,uBAAuBC,MAAvB,CAAd;;AAEA,IAAIE,YAAYL,QAAQ,qBAAR,CAAhB;;AAEA,IAAIM,aAAaJ,uBAAuBG,SAAvB,CAAjB;;AAEA,IAAIE,aAAaP,QAAQ,sBAAR,CAAjB;;AAEA,IAAIQ,cAAcN,uBAAuBK,UAAvB,CAAlB;;AAEA,SAASL,sBAAT,CAAgCO,GAAhC,EAAqC;AAAE,WAAOA,OAAOA,IAAIC,UAAX,GAAwBD,GAAxB,GAA8B,EAAEZ,SAASY,GAAX,EAArC;AAAwD;;AAE/F;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkCA,SAASX,MAAT,CAAgBa,IAAhB,EAAsBC,QAAtB,EAAgCC,QAAhC,EAA0C;AACtCA,eAAW,CAAC,GAAGP,WAAWT,OAAf,EAAwBgB,YAAYZ,OAAOJ,OAA3C,CAAX;AACA,QAAIiB,YAAY,CAAC,GAAGN,YAAYX,OAAhB,EAAyBe,QAAzB,CAAhB;AACA,QAAI,CAACD,MAAL,EAAa,OAAOE,SAAS,IAAT,CAAP;AACb,QAAIE,OAAO,SAAPA,IAAO,CAAUC,GAAV,CAAc,aAAd,EAA6B;AACpC,YAAIA,GAAJ,EAAS,OAAOH,SAASG,GAAT,CAAP;AACT,YAAIL,MAAJ,EAAY,OAAOG,UAAUC,IAAV,CAAP;AACZ,YAAIE,OAAO,CAAC,GAAGb,QAAQP,OAAZ,EAAqBqB,SAArB,EAAgC,CAAhC,CAAX;AACAL,iBAASM,KAAT,CAAe,IAAf,EAAqB,CAAC,IAAD,EAAOC,MAAP,CAAcH,IAAd,CAArB;AACH,KALD;AAMAH,cAAUC,IAAV;AACH;AACDM,OAAO1B,OAAP,GAAiBA,QAAQ,SAAR,CAAjB","file":"whilst.js","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = whilst;\n\nvar _noop = require('lodash/noop');\n\nvar _noop2 = _interopRequireDefault(_noop);\n\nvar _slice = require('./internal/slice');\n\nvar _slice2 = _interopRequireDefault(_slice);\n\nvar _onlyOnce = require('./internal/onlyOnce');\n\nvar _onlyOnce2 = _interopRequireDefault(_onlyOnce);\n\nvar _wrapAsync = require('./internal/wrapAsync');\n\nvar _wrapAsync2 = _interopRequireDefault(_wrapAsync);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n * Repeatedly call `iteratee`, while `test` returns `true`. Calls `callback` when\n * stopped, or an error occurs.\n *\n * @name whilst\n * @static\n * @memberOf module:ControlFlow\n * @method\n * @category Control Flow\n * @param {Function} test - synchronous truth test to perform before each\n * execution of `iteratee`. Invoked with ().\n * @param {AsyncFunction} iteratee - An async function which is called each time\n * `test` passes. Invoked with (callback).\n * @param {Function} [callback] - A callback which is called after the test\n * function has failed and repeated execution of `iteratee` has stopped. `callback`\n * will be passed an error and any arguments passed to the final `iteratee`'s\n * callback. Invoked with (err, [results]);\n * @returns undefined\n * @example\n *\n * var count = 0;\n * async.whilst(\n *     function() { return count < 5; },\n *     function(callback) {\n *         count++;\n *         setTimeout(function() {\n *             callback(null, count);\n *         }, 1000);\n *     },\n *     function (err, n) {\n *         // 5 seconds have passed, n = 5\n *     }\n * );\n */\nfunction whilst(test, iteratee, callback) {\n    callback = (0, _onlyOnce2.default)(callback || _noop2.default);\n    var _iteratee = (0, _wrapAsync2.default)(iteratee);\n    if (!test()) return callback(null);\n    var next = function (err /*, ...args*/) {\n        if (err) return callback(err);\n        if (test()) return _iteratee(next);\n        var args = (0, _slice2.default)(arguments, 1);\n        callback.apply(null, [null].concat(args));\n    };\n    _iteratee(next);\n}\nmodule.exports = exports['default'];"]}