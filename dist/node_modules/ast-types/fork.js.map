{"version":3,"sources":["../../../src/node_modules/ast-types/fork.js"],"names":["module","exports","defs","used","usedResult","fork","use","plugin","idx","indexOf","length","push","types","require","forEach","finalize","Type","builtInTypes","namedTypes","builders","defineMethod","getFieldNames","getFieldValue","eachField","someField","getSupertypeNames","astNodesAreEquivalent","Path","NodePath","PathVisitor","visit"],"mappings":";;AAAAA,OAAOC,OAAP,GAAiB,UAAUC,IAAV,EAAgB;AAC7B,QAAIC,OAAO,EAAX;AACA,QAAIC,aAAa,EAAjB;AACA,QAAIC,OAAO,EAAX;;AAEA,aAASC,GAAT,CAAaC,MAAb,EAAqB;AACjB,YAAIC,MAAML,KAAKM,OAAL,CAAaF,MAAb,CAAV;AACA,YAAIC,QAAQ,CAAC,CAAb,EAAgB;AACZA,kBAAML,KAAKO,MAAX;AACAP,iBAAKQ,IAAL,CAAUJ,MAAV;AACAH,uBAAWI,GAAX,IAAkBD,OAAOF,IAAP,CAAlB;AACH;AACD,eAAOD,WAAWI,GAAX,CAAP;AACH;;AAEDH,SAAKC,GAAL,GAAWA,GAAX;;AAEA,QAAIM,QAAQN,IAAIO,QAAQ,aAAR,CAAJ,CAAZ;;AAEAX,SAAKY,OAAL,CAAaR,GAAb;;AAEAM,UAAMG,QAAN;;AAEA,QAAId,UAAU;AACVe,cAAMJ,MAAMI,IADF;AAEVC,sBAAcL,MAAMK,YAFV;AAGVC,oBAAYN,MAAMM,UAHR;AAIVC,kBAAUP,MAAMO,QAJN;AAKVC,sBAAcR,MAAMQ,YALV;AAMVC,uBAAeT,MAAMS,aANX;AAOVC,uBAAeV,MAAMU,aAPX;AAQVC,mBAAWX,MAAMW,SARP;AASVC,mBAAWZ,MAAMY,SATP;AAUVC,2BAAmBb,MAAMa,iBAVf;AAWVC,+BAAuBpB,IAAIO,QAAQ,aAAR,CAAJ,CAXb;AAYVE,kBAAUH,MAAMG,QAZN;AAaVY,cAAMrB,IAAIO,QAAQ,YAAR,CAAJ,CAbI;AAcVe,kBAAUtB,IAAIO,QAAQ,iBAAR,CAAJ,CAdA;AAeVgB,qBAAavB,IAAIO,QAAQ,oBAAR,CAAJ,CAfH;AAgBVP,aAAKA;AAhBK,KAAd;;AAmBAL,YAAQ6B,KAAR,GAAgB7B,QAAQ4B,WAAR,CAAoBC,KAApC;;AAEA,WAAO7B,OAAP;AACH,CA7CD","file":"fork.js","sourcesContent":["module.exports = function (defs) {\n    var used = [];\n    var usedResult = [];\n    var fork = {};\n\n    function use(plugin) {\n        var idx = used.indexOf(plugin);\n        if (idx === -1) {\n            idx = used.length;\n            used.push(plugin);\n            usedResult[idx] = plugin(fork);\n        }\n        return usedResult[idx];\n    }\n\n    fork.use = use;\n\n    var types = use(require('./lib/types'));\n\n    defs.forEach(use);\n\n    types.finalize();\n\n    var exports = {\n        Type: types.Type,\n        builtInTypes: types.builtInTypes,\n        namedTypes: types.namedTypes,\n        builders: types.builders,\n        defineMethod: types.defineMethod,\n        getFieldNames: types.getFieldNames,\n        getFieldValue: types.getFieldValue,\n        eachField: types.eachField,\n        someField: types.someField,\n        getSupertypeNames: types.getSupertypeNames,\n        astNodesAreEquivalent: use(require(\"./lib/equiv\")),\n        finalize: types.finalize,\n        Path: use(require('./lib/path')),\n        NodePath: use(require(\"./lib/node-path\")),\n        PathVisitor: use(require(\"./lib/path-visitor\")),\n        use: use\n    };\n\n    exports.visit = exports.PathVisitor.visit;\n\n    return exports;\n};"]}